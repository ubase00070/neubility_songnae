<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ëª¨ë‹ˆí„°ë§ êµëŒ€ í…ìŠ¤íŠ¸ íŒ¨ë„</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; padding: 15px; background-color: #f1f3f5; color: #333; margin: 0; }
        h2 { color: #495057; font-size: 1.1rem; margin: 0 0 10px 0; border-bottom: 2px solid #dee2e6; padding-bottom: 8px; }
        
        .main-wrapper { 
            display: grid; 
            grid-template-columns: 1fr 380px; 
            gap: 15px; 
            max-width: 1500px; 
            margin: auto; 
        }

        .left-panel { background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .section { margin-bottom: 8px; padding: 10px; border: 1px solid #f1f3f5; border-radius: 8px; background: #fafbfc; }
        
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .section-title { font-weight: bold; display: block; color: #495057; border-left: 4px solid #adb5bd; padding-left: 8px; font-size: 0.85rem; }
        
        .user-save-zone { font-size: 12px; display: flex; align-items: center; gap: 8px; background: #e7f5ff; padding: 6px 12px; border-radius: 4px; border: 1px solid #a5d8ff; }
        .user-save-zone input[type="text"] { border: 1px solid #ced4da; border-radius: 3px; padding: 3px 8px; width: 80px; font-size: 12px; }

        .reset-btn {
            font-size: 11px; padding: 2px 6px; background: #fff; border: 1px solid #dee2e6;
            border-radius: 4px; cursor: pointer; color: #868e96; transition: all 0.2s;
        }
        .reset-btn:hover { background: #fff5f5; color: #fa5252; border-color: #ffa8a8; }
        
        .btn-group { display: flex; gap: 4px; flex-wrap: wrap; }
        button.unit-btn { 
            padding: 5px 9px; border: 1px solid #e9ecef; background: #fff; 
            cursor: pointer; border-radius: 4px; transition: all 0.2s; font-size: 12px; color: #444;
            border-bottom-width: 4px !important;
        }
        button.unit-btn:hover:not(:disabled) { transform: translateY(-1px); background: #f8f9fa; }
        button.unit-btn.active { border: 2px solid #222 !important; font-weight: bold !important; z-index: 1; background-color: #4dabf7 !important; color: white !important; }
        
        button.acc-btn.active { background-color: #fd7e14 !important; border-color: #e8590c !important; }

        button.unit-btn:disabled:not(.active) { opacity: 0.3; cursor: not-allowed; }

/* ì‹œê°„ëŒ€ë³„ ê·¸ë¼ë°ì´ì…˜ ì»¬ëŸ¬ êµ¬ì„± */
        .time-07 { border-bottom: 4px solid #fff3bf !important; } /* ì´ë¥¸ ì•„ì¹¨: ì—°ë…¸ë‘ */
        .time-08 { border-bottom: 4px solid #ffe066 !important; } /* ì•„ì¹¨: ë…¸ë‘ */
        .time-09 { border-bottom: 4px solid #fab005 !important; } /* ì˜¤ì „: ì§„í•œ ë…¸ë‘/ì˜¤ë Œì§€ */
        .time-11 { border-bottom: 4px solid #a9e34b !important; } /* ë‚®: ì—°ë‘ */
        .time-13 { border-bottom: 4px solid #69db7c !important; } /* ì˜¤í›„ ì‹œì‘: ë…¹ìƒ‰ */
        .time-14 { border-bottom: 4px solid #38d9a9 !important; } /* ì˜¤í›„: ë¯¼íŠ¸ */
        .time-15 { border-bottom: 4px solid #3bc9db !important; } /* ëŠ¦ì€ ì˜¤í›„: í•˜ëŠ˜ */
        .time-18 { border-bottom: 4px solid #4dabf7 !important; } /* ì €ë…: íŒŒë‘ */
        .time-20 { border-bottom: 4px solid #748ffc !important; } /* ë°¤: ë‚¨ìƒ‰ */
        .time-22 { border-bottom: 4px solid #91a7ff !important; } /* ì•¼ê°„: ì—°ë³´ë¼ */
        .time-23 { border-bottom: 4px solid #be4bdb !important; } /* ì‹¬ì•¼: ë³´ë¼ */
        .time-none { border-bottom: 4px solid #dee2e6 !important; } /* ì„¤ì •ì—†ìŒ: ì—°íšŒìƒ‰ */

        .right-panel { position: sticky; top: 15px; height: fit-content; background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid #dee2e6; }
        #preview { background: #ffffff; color: #212529; border: 1px solid #dee2e6; border-radius: 8px; padding: 18px; white-space: pre-wrap; font-family: 'Consolas', monospace; font-size: 15px; line-height: 1.7; margin-bottom: 12px; min-height: 320px; box-shadow: inset 0 2px 8px rgba(0,0,0,0.15); }
/* ê¸°ë³¸ ìƒíƒœ (ì´ˆë¡ìƒ‰) */
.copy-btn { 
    width: 100%; padding: 14px; background: #37b24d; color: white; 
    border: none; border-radius: 8px; font-size: 16px; font-weight: bold; 
    cursor: pointer; transition: background-color 0.2s; 
}

/* ë³µì‚¬ ì™„ë£Œ ìƒíƒœ (í•˜ëŠ˜ìƒ‰) - í´ë˜ìŠ¤ê°€ ë¶™ì—ˆì„ ë•Œë§Œ ì‘ë™ */
.copy-btn.is-active {
    background-color: #4dabf7 !important;
}
        .copy-btn:hover { background: #2f9e44; }

        /* ê°œë°œì ì‚¬ìš©ì„¤ëª…ì„œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
.manual-section {
    margin-top: 15px;
    padding: 15px;
    background-color: #f8f9fa; /* ì•„ì£¼ ì—°í•œ íšŒìƒ‰ */
    border: 1px dashed #adb5bd; /* ì ì„  í…Œë‘ë¦¬ë¡œ ë§¤ë‰´ì–¼ ëŠë‚Œ ê°•ì¡° */
    border-radius: 12px;
}

.manual-title {
    font-size: 0.9rem;
    font-weight: bold;
    color: #495057;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.manual-title::before {
    content: 'ğŸ“˜'; /* ë§¤ë‰´ì–¼ ì•„ì´ì½˜ */
}

.manual-content {
    font-size: 13px;
    line-height: 1.6;
    color: #495057;
}

.manual-content ul {
    margin: 0;
    padding-left: 20px;
}

.manual-content li {
    margin-bottom: 6px;
}

.manual-content strong {
    color: #228be6; /* ê°•ì¡° í…ìŠ¤íŠ¸ìš© íŒŒë€ìƒ‰ */
}
    </style>
</head>
<body>

<div class="main-wrapper">
    <div class="left-panel">
        <h2>êµëŒ€ ì„¤ì • íŒ¨ë„</h2>
        
        <div class="section">
            <div class="section-header">
                <span class="section-title">1. êµëŒ€ ì¸ì› ì„ íƒ</span>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <div class="user-save-zone">
                        <span>ë³¸ì¸ ì´ë¦„:</span>
                        <input type="text" id="my-name-input" placeholder="ì´ë¦„ ì…ë ¥" oninput="handleNameInput()">
                    </div>
                </div>
            </div>
            <div class="btn-group" id="person-container"></div>
        </div>

        <div class="section" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: none; border: none; padding: 0;">
            <div class="section">
                <div class="section-header"><span class="section-title">2. êµëŒ€ ê¸°ì²´</span><button class="reset-btn" onclick="resetSection('shift')">ì „ì²´ í•´ì œ</button></div>
                <div class="btn-group" id="shift-container"></div>
            </div>
            <div class="section">
                <div class="section-header"><span class="section-title">3. ì˜ˆì • ê¸°ì²´</span><button class="reset-btn" onclick="resetSection('plan')">ì „ì²´ í•´ì œ</button></div>
                <div class="btn-group" id="plan-container"></div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header"><span class="section-title">4. ì¶œì°¨ ì˜ˆì • ê¸°ì²´</span><button class="reset-btn" onclick="resetSection('out')">ì „ì²´ í•´ì œ</button></div>
            <div class="btn-group" id="out-container"></div>
        </div>

        <div class="section">
            <span class="section-title">5. ë©€í‹° ê³„ì • ì„¤ì • (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)</span>
            <div class="btn-group" id="account-container">
                <button class="unit-btn acc-btn" id="acc-01" onclick="toggleAccount('01')">01</button>
                <button class="unit-btn acc-btn" id="acc-02" onclick="toggleAccount('02')">02</button>
            </div>
        </div>
        <div class="manual-section">
    <div class="manual-title">ê°œë°œìì˜ ì‚¬ìš©ì„¤ëª…ì„œ</div>
    <div class="manual-content">
        <ul>
            <li><strong>êµëŒ€ ì¸ì›:</strong> ë³¸ì¸ ì´ë¦„ì„ ë¨¼ì € ì…ë ¥í•˜ë©´ ëŒ€ê¸°ì ì„ íƒì´ ì œí•œë©ë‹ˆë‹¤.</li>
            <li><strong>ê¸°ì²´ ì„ íƒ:</strong> ì„ íƒí•œ ìˆœì„œëŒ€ë¡œ í”„ë¦¬ë·°ì— ë°˜ì˜ë˜ë©°, ê°™ì€ ì¢…ë¥˜ëŠ” ìë™ìœ¼ë¡œ ë¬¶ì…ë‹ˆë‹¤.</li>
            <li><strong>ë³µì‚¬ ê¸°ëŠ¥:</strong> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•˜ëŠ˜ìƒ‰ìœ¼ë¡œ ë³€í•˜ë©° í´ë¦½ë³´ë“œì— ì €ì¥ë©ë‹ˆë‹¤.</li>
            <li>ì—¬ê¸°ì— ì‘ê°€ë‹˜ì˜ ì² í•™ì´ë‚˜ ì¶”ê°€ ê·œì¹™ì„ ê¸°ë¡í•´ ë³´ì„¸ìš”.</li>
        </ul>
    </div>
</div>
    </div>

    <div class="right-panel">
        <span class="section-title" style="border-color: #37b24d; margin-bottom: 10px;">ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸ í”„ë¦¬ë·°</span>
        <div id="preview"></div>
        <button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">í…ìŠ¤íŠ¸ ë³µì‚¬í•˜ê¸°</button>
    </div>
</div>

<script>
    const personnelData = [
        { name: "ì°¨í˜„ëª¨", time: "", class: "time-none" }, { name: "ê¹€ì§€í›ˆ", time: "(0700-1600)(U)", class: "time-07" }, { name: "ì˜¤ì •í›ˆ", time: "(0700-1600)(U)", class: "time-07" }, { name: "ê°•ìƒìœ¤", time: "(0700-1600)(U)", class: "time-07" }, { name: "ë°•ê³„ì›", time: "(0800-1700)(U)", class: "time-08" }, { name: "ë°•íš¨ì„ ", time: "(0800-1700)(U)", class: "time-08" }, { name: "ì‹ ì§€ì„­", time: "(0900-1800)(U)", class: "time-09" }, { name: "ì•ˆí˜œë¦¼", time: "(0900-1800)(U)", class: "time-09" }, { name: "ê¹€ê²½í™˜", time: "(0900-1800)(U)", class: "time-09" }, { name: "ìµœìœ¤í˜", time: "(0900-1800)(U)", class: "time-09" }, { name: "ì´ê¸¸ë²”", time: "(0900-1800)(U)", class: "time-09" }, { name: "ë°•ì€ì„ ", time: "(1100-2000)(U)", class: "time-11" }, { name: "ì†¡ì£¼í˜„", time: "(1100-2000)(U)", class: "time-11" }, { name: "ì¥ì¬ì›", time: "(1100-2000)(U)", class: "time-11" }, { name: "ì´í™˜", time: "(1100-2000)(U)", class: "time-11" }, { name: "ë°•í˜œì˜", time: "(1100-2000)(U)", class: "time-11" }, { name: "ê¹€ë™ì§„", time: "(1100-2000)(U)", class: "time-11" }, { name: "ì‹ ì€ì •", time: "(1300-2200)(U)", class: "time-13" }, { name: "ì‹ í˜„ì² ", time: "(1300-2200)(U)", class: "time-13" }, { name: "ì´ë„ì—°", time: "(1300-2200)(U)", class: "time-13" }, { name: "ë°•íš¨ë¹ˆ", time: "(1400-2300)(U)", class: "time-14" }, { name: "ê¹€ê°€ì€", time: "(1500-2400)(U)", class: "time-15" }, { name: "ì„œí˜•ë¯¼", time: "(1500-2400)(U)", class: "time-15" }, { name: "ìµœì„±í™˜", time: "(1500-2400)(U)", class: "time-15" }, { name: "ë°•ìˆ˜ì—°", time: "(1800-0300)(U)", class: "time-18" }, { name: "ì´ê·œìˆœ", time: "(1800-0300)(U)", class: "time-18" }, { name: "ê°•ì² í™˜", time: "(1800-0300)(U)", class: "time-18" }, { name: "ìµœì„ í˜¸", time: "(2000-0500)(U)", class: "time-20" }, { name: "ìµœì •ê¸°", time: "(2000-0500)(U)", class: "time-20" }, { name: "ê³ ìƒì—°", time: "(2200-0700)(U)", class: "time-22" }, { name: "ì„ë‹¤ì—°", time: "(2200-0700)(U)", class: "time-22" }, { name: "ì„ì•„ì—°", time: "(2200-0700)(U)", class: "time-22" }, { name: "ì•ˆëŒ€ê´€", time: "(2330-0830)(U)", class: "time-23" }
    ];

    const rawUnits = ["ìš©ì¸ ê³ ì§„", "ì„œê°•ëŒ€", "ê²½í¬ëŒ€ 1", "ê²½í¬ëŒ€ 2", "ì„±ë‚¨ 200", "ì„±ë‚¨ 201", "ì„±ë‚¨ 202", "ì„±ë‚¨ 203", "ë¶€ì‚° 1", "ë¶€ì‚° 2", "ë¶€ì‚° 3", "ë¶€ì‚° 4", "íŒŒì£¼", "ë¦¬ì„¼ì¸  1", "ë¦¬ì„¼ì¸  2", "í‰íƒ 1", "í‰íƒ 2", "DMZ", "ë¶€ì‚° ì„œë©´", "ë¶€ì²œ ì¤‘ë™", "ê³ ì–‘ ë˜ë¯¸ì•ˆ", "ì¸ë ¥ê°œë°œì›", "ì—˜ìŠ¤ 1", "ì—˜ìŠ¤ 2", "ì†¡ë„ êµ­ìº ", "ìì²´ìˆœì°° 01", "ìì²´ìˆœì°° 02", "ë¶€ê²½ëŒ€", "ê¹€í¬ 1", "ê¹€í¬ 2", "í‰íƒ ì§€ì œ", "ë‘ë£¨ì•„ì´ 3", "ì‰´ë”ìŠ¤", "ì‹ ë™ë°±", "ì²­ë‹´ ë¥´ì—˜", "ì „ì£¼ì²œ", "ì•„ì£¼ëŒ€"];
    const outUnitsList = ["ë¶€ì‚° 1", "ë¶€ì‚° 2", "ë¶€ì‚° 3", "ë¶€ì‚° 4", "ì„±ë‚¨ 200", "ì„±ë‚¨ 201", "ì„±ë‚¨ 202", "ì„±ë‚¨ 203", "ìì²´ìˆœì°°01", "ìì²´ìˆœì°°02"];
    const unitsOrder = rawUnits.map(u => u.replace("ìì²´ìˆœì°°", "ìì²´ìˆœì°° "));

    let selection = { people: [], shift: [], plan: [], out: [], account: [] };

    function handleNameInput() {
        const inputName = document.getElementById('my-name-input').value.trim();
        localStorage.setItem('monitor_my_name', inputName);
        if (inputName !== "" && selection.people.length > 1) {
            resetSection('people');
        }
        updatePersonButtonsState();
        updatePreview();
    }

    function init() {
        const savedName = localStorage.getItem('monitor_my_name');
        if (savedName) document.getElementById('my-name-input').value = savedName;
        renderContainer('person-container', personnelData.map(p => ({name: p.name, type: 'people', class: p.class})));
        renderContainer('shift-container', unitsOrder.map(name => ({name, type: 'shift', class: ''})));
        renderContainer('plan-container', unitsOrder.map(name => ({name, type: 'plan', class: ''})));
        renderContainer('out-container', outUnitsList.map(name => ({name: name.replace("ìì²´ìˆœì°°", "ìì²´ìˆœì°° "), type: 'out', class: ''})));
        updatePersonButtonsState();
        updatePreview();
    }

    function renderContainer(id, data) {
        const container = document.getElementById(id);
        container.innerHTML = '';
        data.forEach(item => {
            const btn = document.createElement('button');
            btn.className = `unit-btn ${item.class || ''}`;
            btn.textContent = item.name;
            btn.onclick = () => {
                const index = selection[item.type].indexOf(item.name);
                if (index > -1) {
                    selection[item.type].splice(index, 1);
                    btn.classList.remove('active');
                } else {
                    const inputName = document.getElementById('my-name-input').value.trim();
                    const maxLimit = (inputName === "") ? 2 : 1;
                    if (item.type === 'people') {
                        if (selection.people.length < maxLimit) {
                            selection.people.push(item.name);
                            btn.classList.add('active');
                        }
                    } else {
                        // í´ë¦­ ìˆœì„œëŒ€ë¡œ ë°°ì—´ ëì— ì¶”ê°€
                        selection[item.type].push(item.name);
                        btn.classList.add('active');
                    }
                }
                if (item.type === 'people') updatePersonButtonsState();
                updatePreview();
            };
            container.appendChild(btn);
        });
    }

    function resetSection(type) {
        selection[type] = [];
        const containerId = `${type}-container`;
        document.querySelectorAll(`#${containerId} .unit-btn`).forEach(btn => {
            btn.classList.remove('active');
            btn.disabled = false;
        });
        if (type === 'people') updatePersonButtonsState();
        updatePreview();
    }

    function toggleAccount(val) {
        const btn = document.getElementById(`acc-${val}`);
        const index = selection.account.indexOf(val);
        if (index > -1) {
            selection.account.splice(index, 1);
            btn.classList.remove('active');
        } else {
            selection.account.push(val);
            selection.account.sort();
            btn.classList.add('active');
        }
        updatePreview();
    }

    function updatePersonButtonsState() {
        const inputName = document.getElementById('my-name-input').value.trim();
        const maxLimit = (inputName === "") ? 2 : 1;
        const personButtons = document.querySelectorAll('#person-container .unit-btn');
        const isFull = selection.people.length >= maxLimit;
        personButtons.forEach(btn => { btn.disabled = isFull && !btn.classList.contains('active'); });
    }

    // [í•µì‹¬ ë³€ê²½] í´ë¦­ ìˆœì„œë¥¼ ìœ ì§€í•˜ë˜ ê°™ì€ ê·¸ë£¹(ì´ë¦„)ë§Œ ëª¨ì•„ì„œ í‘œì‹œ
    function formatUnitsWithGrouping(selectedArray) {
        if (selectedArray.length === 0) return "-";
        
        const groups = [];
        const processedIndexes = new Set();

        selectedArray.forEach((item, index) => {
            if (processedIndexes.has(index)) return;

            // ê¸°ì²´ëª…ê³¼ ë²ˆí˜¸ ë¶„ë¦¬ (ì˜ˆ: "ë¶€ì‚° 1" -> "ë¶€ì‚°", "1")
            const match = item.match(/^(.*)\s(\d+)$/);
            const baseName = match ? match[1] : item;
            
            // í˜„ì¬ ê¸°ì²´ì™€ ì´ë¦„ì´ ê°™ì€ ê²ƒë“¤ì„ ëª¨ë‘ ì°¾ì•„ ê·¸ë£¹í™” (ìˆœì„œ ìƒê´€ì—†ì´ ë¬¶ìŒ)
            const sameGroup = [];
            selectedArray.forEach((innerItem, innerIndex) => {
                const innerMatch = innerItem.match(/^(.*)\s(\d+)$/);
                const innerBaseName = innerMatch ? innerMatch[1] : innerItem;
                
                if (innerBaseName === baseName) {
                    sameGroup.push({
                        fullName: innerItem,
                        num: innerMatch ? innerMatch[2] : "",
                        originalIndex: innerIndex
                    });
                    processedIndexes.add(innerIndex);
                }
            });

            // ë²ˆí˜¸ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë¦¬í„´ (ì˜ˆ: "ë¶€ì‚° 2, 1" ì´ í´ë¦­ë˜ì–´ë„ "ë¶€ì‚° 1, 2"ë¡œ í‘œì‹œ)
            if (sameGroup.length > 1 && sameGroup[0].num !== "") {
                const nums = sameGroup.map(g => g.num).sort((a, b) => parseInt(a) - parseInt(b)).join(", ");
                groups.push(`${baseName} ${nums}`);
            } else {
                groups.push(sameGroup[0].fullName);
            }
        });

        return groups.join(" / ");
    }

    function updatePreview() {
        const now = new Date(); now.setHours(now.getHours() + 1);
        const hour = String(now.getHours()).padStart(2, '0');
        const inputName = document.getElementById('my-name-input').value.trim();
        
        let p1 = "@ë³¸ì¸", p2 = "@ëŒ€ê¸°ì";
        if (inputName !== "") {
            const info = personnelData.find(p => p.name === inputName);
            p1 = `@${inputName}${info ? info.time : ""}`;
            p2 = selection.people.length > 0 ? selection.people.map(n => {
                const info = personnelData.find(p => p.name === n);
                return `@${n}${info ? info.time : ""}`;
            })[0] : "@ëŒ€ê¸°ì";
        } else {
            if (selection.people.length >= 1) {
                const info = personnelData.find(p => p.name === selection.people[0]);
                p1 = `@${selection.people[0]}${info ? info.time : ""}`;
            }
            if (selection.people.length === 2) {
                const info = personnelData.find(p => p.name === selection.people[1]);
                p2 = `@${selection.people[1]}${info ? info.time : ""}`;
            }
        }

        let accountText = selection.account.length === 0 ? "â€¢ ë©€í‹° ê³„ì • ë¯¸ì‚¬ìš©" : `â€¢ ë©€í‹° ê³„ì • ${selection.account.join(", ")} ì‚¬ìš© ì¤‘`;
        
        // [ìˆ˜ì • í¬ì¸íŠ¸] ì¶œì°¨ ì •ë³´ì— ë¶ˆë › ê¸°í˜¸ ì¶”ê°€ ë° ë ˆì´ì•„ì›ƒ ì •ë¦¬
        const shiftText = `â€¢ êµëŒ€: ${formatUnitsWithGrouping(selection.shift)}`;
        const planText = `â€¢ ì˜ˆì •: ${formatUnitsWithGrouping(selection.plan)}`;
        const outText = selection.out.length > 0 ? `\nâ€¢ ì¶œì°¨: (${hour}:50) ${formatUnitsWithGrouping(selection.out)}` : '';

        const result = `[${hour}]ì‹œ ë‹¤ì¤‘ ëª¨ë‹ˆí„°ë§ êµëŒ€
${p1} > ${p2}
${shiftText}
${planText}${outText}

${accountText}`;
        document.getElementById('preview').innerText = result;
    }

let copyTimeout; // íƒ€ì´ë¨¸ë¥¼ ë‹´ì„ ë³€ìˆ˜ë¥¼ í•¨ìˆ˜ ë°–ì— ì„ ì–¸

function copyToClipboard() {
    const preview = document.getElementById('preview');
    const btn = document.getElementById('copyBtn');
    
    // í…ìŠ¤íŠ¸ ë³µì‚¬ ë¡œì§
    const textarea = document.createElement('textarea');
    textarea.value = preview.innerText;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);

    // [í•µì‹¬] ê¸°ì¡´ì— ëŒì•„ê°€ë˜ íƒ€ì´ë¨¸ê°€ ìˆë‹¤ë©´ ì¦‰ì‹œ ì·¨ì†Œ
    if (copyTimeout) {
        clearTimeout(copyTimeout);
    }

    // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
    btn.innerText = "ë³µì‚¬ ì™„ë£Œ!";
    btn.classList.add('is-active'); // í•˜ëŠ˜ìƒ‰ í´ë˜ìŠ¤ ì¶”ê°€

    // 0.8ì´ˆ í›„ ì›ìƒë³µêµ¬
    copyTimeout = setTimeout(() => {
        btn.innerText = "í…ìŠ¤íŠ¸ ë³µì‚¬í•˜ê¸°";
        btn.classList.remove('is-active'); // í•˜ëŠ˜ìƒ‰ í´ë˜ìŠ¤ ì œê±° -> ì´ˆë¡ìƒ‰ìœ¼ë¡œ ë³µêµ¬
        copyTimeout = null;
    }, 800);
}
    init();
</script>
</body>
</html>








